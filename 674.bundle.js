(()=>{"use strict";var t,e,i,n=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];function a(t){return t.map((function(t){return t%12}))}self.onmessage=function(r){var h=r.data,f=h.type,l=h.data;switch(f){case"init":t=r.data.canvas,i=r.data.historySize,(e=t.getContext("2d")).font="20px Signika";break;case"render":!function(r){if(t&&e){e.fillStyle="rgb(16,7,25)",e.fillRect(0,0,1*i,t.height);for(var h=function(t,e,i,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2;return t.map((function(t){return e*Math.pow((t-i)/(n-i),a)}))}([0,1,2,3,4,5,6,7,8,9,10,11],t.height,-.5,11.5,1),f=0;f<h.length;f++)e.fillStyle="#D0D7DE",e.fillRect(50,t.height-h[f],1*i,1);for(var l=0;l<r.fHistory.length;l++)if(null!==r.fHistory[l])for(var c=r.fHistory[l],o=c.map((function(t){return t.frequency>31?12*Math.log2(t.frequency/440)+69:0})),g=a(o),u=g.map((function(t){return 30*(t+3)})),s=0;s<o.length;s++){var y=u[s],v=g[s];e.beginPath(),e.fillStyle="hsla(".concat(y,", 100%, 70%, ").concat(c[s].magnitude,")"),e.arc(1*l+4,t.height-(v+.5)%12/12*t.height,1.5,0,2*Math.PI),e.fill()}for(var d=0;d<h.length;d++)e.fillStyle="#D0D7DE",e.fillText("".concat(n[d]).concat(r.currentOctave),10,t.height-h[d]+7)}}(l.state);break;case"resize":t.width=l.width,t.height=l.height,i=l.historySize,e.font="20px Signika"}}})();
//# sourceMappingURL=674.bundle.js.map